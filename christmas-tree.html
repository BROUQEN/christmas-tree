<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Christmas tree ;3</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

        <div id="sky">
            <div id="stars_container">
                <div class="star"></div>
                <div class="star"></div>
                <div class="star"></div>
            </div>

            <div id="snowflakes_container">
                <div class="snowflake" style="width: 5px; height: 5px; left: 10%; animation-duration: 5s;"></div>
                <div class="snowflake" style="width: 8px; height: 8px; left: 30%; animation-duration: 6s;"></div>
                <div class="snowflake" style="width: 6px; height: 6px; left: 50%; animation-duration: 7s;"></div>
                <div class="snowflake" style="width: 4px; height: 4px; left: 70%; animation-duration: 4s;"></div>
                <div class="snowflake" style="width: 7px; height: 7px; left: 90%; animation-duration: 8s;"></div>
            </div>
            

        </div>

        <div id="options" class="pane">
            <header>Options (drag here owo)</header>

            <div class="content">
                <p>This is a draggable options window. Will add more content here in the future. note: this window is buggy af ;c</p>
                
            </div>
            
        </div>

        <script>
            const pane = document.querySelector(".pane");
            const header = pane.querySelector("header");

            let isDragging = false;
            let startX, startY, startLeft, startTop;

            function onDrag(event) {
                if (!isDragging) return;

                const movementX = event.clientX - startX;
                const movementY = event.clientY - startY;

                const newLeft = startLeft + movementX;
                const newTop = startTop + movementY;

                const maxLeft = window.innerWidth - pane.offsetWidth;
                const maxTop = window.innerHeight - pane.offsetHeight;

                const clampedLeft = Math.max(0, Math.min(newLeft, maxLeft));
                const clampedTop = Math.max(0, Math.min(newTop, maxTop));

                pane.style.left = `${clampedLeft}px`;
                pane.style.top = `${clampedTop}px`;
            }

            function onMouseDown(event) {
                isDragging = true;
                startLeft = parseInt(window.getComputedStyle(pane).left, 10);
                startTop = parseInt(window.getComputedStyle(pane).top, 10);
                startX = event.clientX;
                startY = event.clientY;

                document.addEventListener("mousemove", onDrag);
                document.addEventListener("mouseup", onMouseUp);
            }

            function onMouseUp() {
                isDragging = false;
                document.removeEventListener("mousemove", onDrag);
                document.removeEventListener("mouseup", onMouseUp);
            }

            header.addEventListener("mousedown", onMouseDown);

        </script>
          
          
          

        <div id="tree">
            <!--MAIN_STAR-->

            <div id="main_star"></div>
            <div class="star_holder"></div>
            
            <div id="layers_container">
                <!--LVL5-->
                <div id="layer5" class="layers">
                    <div class="bauble" id="bauble5">
                        <div class="bauble_top"></div>
                    </div>
                </div>
                <!--LVL4-->
                <div id="layer4" class="layers">
                    <div class="bauble" id="bauble4">
                        <div class="bauble_top"></div>
                    </div>
                </div>
                <!--LVL3-->
                <div id="layer3" class="layers">
                    <div class="bauble" id="bauble3">
                        <div class="bauble_top"></div>
                    </div>
                    <div class="trapezoid">
                        <div class="bauble_top"></div>
                    </div>
                </div>
                <!--LVL2-->
                <div id="layer2" class="layers">
                    <div class="bauble" id="bauble2">
                        <div class="bauble_top"></div>
                    </div>
                    <div class="trapezoid" id="trapezoid2">
                        <div class="trapezoid_top"></div>
                    </div>
                </div>
                <!--LVL1-->
                <div id="layer1" class="layers">
                    <div class="bauble" id="bauble12">
                        <div class="bauble_top"></div>
                    </div>
                    <div class="bauble" id="bauble1">
                        <div class="bauble_top"></div>
                    </div>
                </div>

            </div>

            <!--LOG-->

            <div id="log">
                
            </div>
        </div>

        <div id="ground">

        </div>
        

    
</body>

<footer>

</footer>

</html>